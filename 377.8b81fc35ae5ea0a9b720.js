(self.webpackChunkconsole_frontend=self.webpackChunkconsole_frontend||[]).push([[377],{64377:(t,e,a)=>{"use strict";a.r(e),a.d(e,{CustomerManageModule:()=>Ot,NB_MODULES:()=>Jt});var i=a(3679),n=a(23918),s=a(39363),r=a(83621),o=a(2063),c=a(73749),d=a(38832),l=a(76185),g=a(86794),u=a(63423),p=a(88567),m=a(26575),h=a(27091),Z=a(32392),v=a(5304),f=a(45435),y=a(93342),T=a(37716),b=a(54856),D=a(11470),A=a(15585),q=a(22191),x=a(15114),N=a(38583),w=a(87450);function S(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"button",9),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).edit()}),T._UZ(1,"nb-icon",10),T.qZA()}if(2&t){const t=T.oxw(2);T.Q6J("status","reviewing"===t.detail.reviewStatus?"basic":"primary")("disabled","reviewing"===t.detail.reviewStatus)}}function I(t,e){if(1&t&&(T.TgZ(0,"div",7),T.TgZ(1,"h1"),T._uU(2,"\u5ba2\u7fa4\u6d3b\u52d5\u540d\u55ae"),T.qZA(),T.YNc(3,S,2,2,"button",8),T.qZA()),2&t){const t=T.oxw();T.xp6(3),T.Q6J("ngIf",t.isCrud.update)}}function _(t,e){if(1&t&&(T.TgZ(0,"div",19),T.TgZ(1,"p",12),T._uU(2,"\u5075\u6e2c\u689d\u4ef6\uff1a"),T.qZA(),T.TgZ(3,"span"),T._uU(4),T.qZA(),T.qZA()),2&t){const t=e.$implicit;T.xp6(4),T.Oqu(t.tagName)}}function k(t,e){if(1&t&&(T.ynx(0),T.TgZ(1,"div",17),T.TgZ(2,"div",4),T.YNc(3,_,5,1,"div",18),T.qZA(),T.qZA(),T.BQk()),2&t){const t=T.oxw().$implicit;T.xp6(3),T.Q6J("ngForOf",t.value)}}function U(t,e){if(1&t){const t=T.EpF();T.ynx(0),T.TgZ(1,"div",14),T.TgZ(2,"p"),T._uU(3),T.qZA(),T.TgZ(4,"button",15),T.NdJ("click",function(){const e=T.CHM(t).$implicit,a=T.oxw(2);return a.isConditionOpen[e.key]=!a.isConditionOpen[e.key]}),T._UZ(5,"nb-icon",16),T.qZA(),T.qZA(),T.YNc(6,k,4,1,"ng-container",2),T.BQk()}if(2&t){const t=e.$implicit,a=T.oxw(2);T.xp6(3),T.hij("\u6d3b\u52d5\u540d\u55ae\u689d\u4ef6",t.key,""),T.xp6(1),T.Q6J("status",a.isConditionOpen[t.key]?"info":"basic")("ngClass",a.isConditionOpen[t.key]?"btnClick":""),T.xp6(2),T.Q6J("ngIf",a.isConditionOpen[t.key])}}function F(t,e){if(1&t&&(T.TgZ(0,"nb-card"),T.TgZ(1,"nb-card-body"),T.TgZ(2,"div",4),T.TgZ(3,"div",11),T.TgZ(4,"p",12),T._uU(5,"\u6d3b\u52d5\u540d\u7a31\uff1a"),T.qZA(),T.TgZ(6,"span"),T._uU(7),T.qZA(),T.qZA(),T.TgZ(8,"div",11),T.TgZ(9,"p",12),T._uU(10,"\u72c0\u614b\uff1a"),T.qZA(),T.TgZ(11,"span"),T._uU(12),T.ALo(13,"enum"),T.qZA(),T.qZA(),T.TgZ(14,"div",11),T.TgZ(15,"p",12),T._uU(16,"\u540d\u55ae\u4e0a\u9650\uff1a"),T.qZA(),T.TgZ(17,"span"),T._uU(18),T.qZA(),T.qZA(),T.TgZ(19,"div",11),T.TgZ(20,"p",12),T._uU(21,"\u540d\u55ae\u5dee\u7570\u904e\u6ffe\uff1a"),T.qZA(),T.TgZ(22,"span"),T._uU(23),T.ALo(24,"enum"),T.qZA(),T.qZA(),T.TgZ(25,"div",11),T.TgZ(26,"p",12),T._uU(27,"\u8d77\u8fc4\u6642\u9593\uff1a"),T.qZA(),T.TgZ(28,"span"),T._uU(29),T.qZA(),T.qZA(),T.TgZ(30,"div",11),T.TgZ(31,"p",12),T._uU(32,"\u63cf\u8ff0\u8aaa\u660e\uff1a"),T.qZA(),T.TgZ(33,"span"),T._uU(34),T.qZA(),T.qZA(),T.TgZ(35,"div",11),T.TgZ(36,"p",12),T._uU(37,"\u7570\u52d5\u6642\u9593\uff1a"),T.qZA(),T.TgZ(38,"span"),T._uU(39),T.ALo(40,"date"),T.qZA(),T.qZA(),T.TgZ(41,"div",11),T.TgZ(42,"p",12),T._uU(43,"\u6392\u7a0b\u8a2d\u5b9a\uff1a"),T.qZA(),T.TgZ(44,"span"),T._uU(45),T.ALo(46,"enum"),T.qZA(),T.qZA(),T.TgZ(47,"div",11),T.TgZ(48,"p",12),T._uU(49,"\u6392\u7a0b\u66f4\u65b0\u6642\u9593\uff1a"),T.qZA(),T.TgZ(50,"span"),T._uU(51),T.qZA(),T.qZA(),T.qZA(),T.YNc(52,U,7,4,"ng-container",13),T.ALo(53,"keyvalue"),T.qZA(),T.qZA()),2&t){const t=T.oxw();T.xp6(7),T.Oqu(null==t.detail?null:t.detail.activityName),T.xp6(5),T.Oqu(T.xi3(13,11,null==t.detail?null:t.detail.status,"status")),T.xp6(6),T.Oqu(null==t.detail?null:t.detail.listLimit),T.xp6(5),T.Oqu(T.xi3(24,14,null==t.detail?null:t.detail.filterOptions,"filter")),T.xp6(6),T.AsE("",null==t.detail?null:t.detail.startDate,"~",null==t.detail?null:t.detail.endDate,""),T.xp6(5),T.Oqu(null==t.detail?null:t.detail.activityDescription),T.xp6(5),T.Oqu(T.xi3(40,17,null==t.detail?null:t.detail.modificationTime,t.dateFormat)),T.xp6(6),T.Oqu(T.xi3(46,20,null==t.detail?null:t.detail.scheduleSettings,"schedule")),T.xp6(6),T.Oqu(null==t.detail?null:t.detail.batchUpdateTime),T.xp6(1),T.Q6J("ngForOf",T.lcZ(53,23,t.detail.tagGroupView))}}function C(t,e){if(1&t&&(T.TgZ(0,"div",27),T.TgZ(1,"div"),T.TgZ(2,"p"),T._uU(3),T.ALo(4,"date"),T.qZA(),T.TgZ(5,"p"),T._uU(6),T.ALo(7,"date"),T.qZA(),T.qZA(),T.TgZ(8,"div"),T.TgZ(9,"p"),T._uU(10),T.qZA(),T.TgZ(11,"p"),T._uU(12),T.qZA(),T.qZA(),T.qZA()),2&t){const t=e.$implicit,a=T.oxw(2).$implicit,i=T.oxw(2);T.Q6J("ngClass",i.isHistoryOpen[a.key]?"":"dis_none"),T.xp6(3),T.Oqu(T.xi3(4,5,t.time,i.dateFormat)),T.xp6(3),T.Oqu(T.xi3(7,8,t.time,"hh:mm:ss")),T.xp6(4),T.Oqu(t.title),T.xp6(2),T.Oqu(t.detail)}}function J(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div",22),T.TgZ(1,"div",23),T.TgZ(2,"h4",24),T.NdJ("click",function(){T.CHM(t);const e=T.oxw().$implicit,a=T.oxw(2);return a.isHistoryOpen[e.key]=!a.isHistoryOpen[e.key]}),T._uU(3),T.qZA(),T.TgZ(4,"button",25),T.NdJ("click",function(){T.CHM(t);const e=T.oxw().$implicit,a=T.oxw(2);return a.isHistoryOpen[e.key]=!a.isHistoryOpen[e.key]}),T._UZ(5,"nb-icon",16),T.qZA(),T.qZA(),T.YNc(6,C,13,11,"div",26),T.qZA()}if(2&t){const t=e.ngIf,a=T.oxw().$implicit,i=T.oxw(2);T.Q6J("ngClass",i.isHistoryOpen[a.key]?"closeSubItem":""),T.xp6(3),T.Oqu(t.type),T.xp6(3),T.Q6J("ngForOf",t.flows)}}function O(t,e){if(1&t&&(T.ynx(0),T.YNc(1,J,7,3,"div",21),T.BQk()),2&t){const t=e.$implicit;T.xp6(1),T.Q6J("ngIf",t.value)}}function Y(t,e){if(1&t&&(T.TgZ(0,"div",20),T.YNc(1,O,2,1,"ng-container",13),T.ALo(2,"keyvalue"),T.qZA()),2&t){const t=T.oxw();T.xp6(1),T.Q6J("ngForOf",T.lcZ(2,1,t.detail.historyGroupView))}}let L=(()=>{class t extends Z.H{constructor(t,e,a,i,n,s,r,o){super(t,e,a),this.router=i,this.activatedRoute=n,this.customerManageService=s,this.dialogService=r,this.loadingService=o,this.isConditionOpen={},this.isHistoryOpen={}}ngOnInit(){if(this.activityId=this.activatedRoute.snapshot.params.activityId,this.loadingService.open(),this.isMock){let t=m.w.find(t=>t.activityId===this.activityId);return this.setData(t),void this.loadingService.close()}this.customerManageService.getActivitySettingRow(this.activityId).pipe((0,v.K)(t=>{throw this.dialogService.alertAndBackToList(!1,"\u67e5\u7121\u6b64\u7b46\u8cc7\u6599\uff0c\u5c07\u70ba\u60a8\u5c0e\u56de\u5ba2\u7fa4\u6d3b\u52d5\u540d\u55ae",["pages","customer-manage","activity-list"]),new Error(t.message)}),(0,f.h)(t=>t.code===p.$.SUCCESS),(0,y.b)(t=>{this.setData(t.result),this.loadingService.close()})).subscribe()}setData(t){var e;this.detail=JSON.parse(JSON.stringify(t));const a=h.l.getHistoryProcessData("activityReviewHistoryAud",t);a&&(this.isHistoryOpen=a.isHistoryOpen,this.detail.historyGroupView=null===(e=a.detail)||void 0===e?void 0:e.historyGroupView),this.detail.tagGroupView=h.l.groupBy(t.activityListCondition,"tagGroup"),Object.keys(this.detail.tagGroupView).forEach(t=>this.isConditionOpen[t]=!0)}edit(){this.router.navigate(["pages","customer-manage","activity-set",this.activityId])}cancel(){this.router.navigate(["pages","customer-manage","activity-list"])}}return t.\u0275fac=function(e){return new(e||t)(T.Y36(b.V),T.Y36(D.E),T.Y36(A.r),T.Y36(u.F0),T.Y36(u.gz),T.Y36(q.Q),T.Y36(n.x),T.Y36(x.b))},t.\u0275cmp=T.Xpm({type:t,selectors:[["activity-detail"]],features:[T.qOj],decls:13,vars:3,consts:[["class","pageTitle",4,"ngIf"],[1,"pageContent"],[4,"ngIf"],["class","historyList",4,"ngIf"],[1,"row"],[1,"btnGroup"],["nbButton","","status","basic","size","medium",3,"click"],[1,"pageTitle"],["nbButton","","size","tiny","class","iconBtn",3,"status","disabled","click",4,"ngIf"],["nbButton","","size","tiny",1,"iconBtn",3,"status","disabled","click"],["icon","edit-outline"],[1,"textGroup","col-12","col-lg-4"],[1,"text_bold"],[4,"ngFor","ngForOf"],[1,"subTitle"],["nbButton","","size","small",1,"iconBtn","btnSwitch",3,"status","ngClass","click"],["icon","arrow-ios-forward"],[1,"colorArea"],["class","textGroup col-12 col-lg-12",4,"ngFor","ngForOf"],[1,"textGroup","col-12","col-lg-12"],[1,"historyList"],["class","historyItem active moreBtn",3,"ngClass",4,"ngIf"],[1,"historyItem","active","moreBtn",3,"ngClass"],[1,"mainItem"],[3,"click"],["nbButton","","ghost","","status","info","size","tiny",1,"iconBtn",3,"click"],["class","subItem",3,"ngClass",4,"ngFor","ngForOf"],[1,"subItem",3,"ngClass"]],template:function(t,e){1&t&&(T.YNc(0,I,4,1,"div",0),T.TgZ(1,"div",1),T.YNc(2,F,54,25,"nb-card",2),T.TgZ(3,"nb-card"),T.TgZ(4,"nb-card-header"),T.TgZ(5,"h2"),T._uU(6,"\u7570\u52d5\u6b77\u7a0b"),T.qZA(),T.qZA(),T.TgZ(7,"nb-card-body"),T.YNc(8,Y,3,3,"div",3),T.qZA(),T.qZA(),T.TgZ(9,"div",4),T.TgZ(10,"div",5),T.TgZ(11,"button",6),T.NdJ("click",function(){return e.cancel()}),T._uU(12,"\u8fd4 \u56de"),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&t&&(T.Q6J("ngIf",e.detail),T.xp6(2),T.Q6J("ngIf",e.detail),T.xp6(6),T.Q6J("ngIf",null==e.detail?null:e.detail.historyGroupView))},directives:[N.O5,d.Asz,d.ndF,d.yKW,d.DPz,d.fMN,N.sg,N.mk],pipes:[w.z,N.uU,N.Nd],styles:[""]}),t})();var Q=a(36332),B=a(21523),M=a(32478),E=a(63731),z=a(35043),P=a(68877),X=a(79761),$=a(33256),G=a(65969);function R(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div",12),T.TgZ(1,"button",13),T.NdJ("click",function(){return T.CHM(t),T.oxw().add()}),T._uU(2,"\u65b0 \u589e"),T.qZA(),T.qZA()}}function V(t,e){if(1&t&&(T.ynx(0),T._UZ(1,"ng2-smart-table",14),T._UZ(2,"paginator",15),T.BQk()),2&t){const t=e.ngIf,a=T.oxw();T.xp6(1),T.Q6J("settings",a.gridDefine)("source",t),T.xp6(1),T.Q6J("source",t)("paginator",a.paginator)}}const K=function(t){return{options:t,key:"key",val:"val"}};let H=(()=>{class t extends Z.H{constructor(t,e,a,n,s,r,o){super(t,e,a),this.router=n,this.activatedRoute=s,this.customerManageService=r,this.tableService=o,this.isSearch=!1,this.statusList=Object.entries(Q.qb).map(([t,e])=>({key:t,val:e})),this.gridDefine={pager:{display:!0,perPage:10},columns:{activityName:{title:"\u6d3b\u52d5\u540d\u7a31",type:"string",sort:!1},activityDescription:{title:"\u6d3b\u52d5\u8aaa\u660e",type:"html",valuePrepareFunction:t=>`<p>${null!=t?t:""}</p>`,sort:!1},filterOptions:{title:"\u5dee\u7570\u904e\u6ffe",type:"custom",width:"3rem",renderComponent:M.w,sort:!1},listLimit:{title:"\u540d\u55ae\u4e0a\u9650",type:"html",class:"text_center",valuePrepareFunction:(t,e)=>'<p class="text_center">'+(null!=t?t:"")+"</p>",sort:!1},status:{title:"\u72c0\u614b",type:"html",class:"text_center",valuePrepareFunction:(t,e)=>'<p class="text_center">'+(Q.qb[e.reviewStatus]||Q.qb[t]||"")+"</p>",sort:!1},during:{title:"\u8d77\u8fc4\u6642\u9593",type:"html",class:"text_center",valuePrepareFunction:(t,e)=>e.startDate&&e.endDate?`<p class="text_center">${null==e?void 0:e.startDate} ~ ${null==e?void 0:e.endDate}</p>`:"",sort:!1},action:{title:"\u67e5\u770b",type:"custom",class:"center",width:"3rem",valuePrepareFunction:(t,e)=>e,renderComponent:E.m,sort:!1}},hideSubHeader:!0,actions:{add:!1,edit:!1,delete:!1}},this.validateForm=new i.cw({activityName:new i.NI(""),status:new i.NI(""),startDate:new i.NI(null,B.I.dateFmt),endDate:new i.NI(null,B.I.dateFmt)},[B.I.dateRange]),this.sessionKey=this.activatedRoute.snapshot.routeConfig.path}ngOnInit(){this.search()}ngOnDestroy(){this.setSessionData()}setSessionData(){var t,e;const a=this.isSearch?this.validateForm.getRawValue():null!==(e=null===(t=this.storageService.getSessionVal(this.sessionKey))||void 0===t?void 0:t.filter)&&void 0!==e?e:this.validateForm.getRawValue();this.setSessionVal({page:this.paginator.nowPage,filter:a})}add(){this.router.navigate(["pages","customer-manage","activity-set"])}reset(){this.validateForm.reset({activityName:"",status:"",startDate:null,endDate:null}),this.isSearch=!0,this.paginator.nowPage=1,this.setSessionData(),this.search("reset")}search(t){if(this.isMock){this.dataSource.reset();let t=this.validateForm.getRawValue();for(const[e,a]of Object.entries(t).filter(([t,e])=>!!e))this.dataSource.addFilter({field:e,filter:void 0,search:a});return void this.dataSource.load(m.w)}const e=this.storageService.getSessionVal(this.sessionKey);this.isSearch=!1,"search"===t&&(this.isSearch=!0),["search","reset"].includes(t)&&(this.paginator.nowPage=1);let a=this.paginator.nowPage;"search"!==t&&(null==e?void 0:e.filter)&&(a=e.page,h.l.initializeFormWithSessionData(this.validateForm,e)),"reset"!==t&&this.setSessionData();let i={apiUrl:this.customerManageService.activityFunc,nowPage:a,filters:this.validateForm.getRawValue(),errMsg:"\u6d3b\u52d5\u5217\u8868\u67e5\u7121\u8cc7\u6599"};this.restDataSource=this.tableService.searchData(i)}}return t.\u0275fac=function(e){return new(e||t)(T.Y36(b.V),T.Y36(D.E),T.Y36(A.r),T.Y36(u.F0),T.Y36(u.gz),T.Y36(q.Q),T.Y36(z.I))},t.\u0275cmp=T.Xpm({type:t,selectors:[["activity-list"]],features:[T.qOj],decls:27,vars:10,consts:[[1,"pageTitle"],[1,"pageContent"],[3,"formGroup"],[1,"row"],["title","\u6d3b\u52d5\u540d\u7a31","ctlName","activityName",1,"col-12","col-lg-6",3,"form"],["title","\u72c0\u614b","ctlName","status",1,"col-12","col-lg-6",3,"form","selectList"],[3,"form"],[1,"btnGroup"],["nbButton","","status","basic","size","medium",3,"click"],["nbButton","","status","primary","size","medium",3,"disabled","click"],["class","rightBox",4,"ngIf"],[4,"ngIf"],[1,"rightBox"],["nbButton","","status","primary","size","medium",3,"click"],[3,"settings","source"],[3,"source","paginator"]],template:function(t,e){1&t&&(T.TgZ(0,"div",0),T.TgZ(1,"h1"),T._uU(2,"\u5ba2\u7fa4\u6d3b\u52d5\u540d\u55ae"),T.qZA(),T.qZA(),T.TgZ(3,"div",1),T.TgZ(4,"nb-card"),T.TgZ(5,"nb-card-header"),T.TgZ(6,"h2"),T._uU(7,"\u67e5\u8a62\u8a2d\u5b9a\u503c"),T.qZA(),T.qZA(),T.TgZ(8,"nb-card-body",2),T.TgZ(9,"div",3),T._UZ(10,"basic-input",4),T._UZ(11,"dropdown",5),T.qZA(),T._UZ(12,"date-range",6),T.qZA(),T.qZA(),T.TgZ(13,"div",3),T.TgZ(14,"div",7),T.TgZ(15,"button",8),T.NdJ("click",function(){return e.reset()}),T._uU(16,"\u6e05 \u9664"),T.qZA(),T.TgZ(17,"button",9),T.NdJ("click",function(){return e.search("search")}),T._uU(18,"\u67e5 \u8a62"),T.qZA(),T.qZA(),T.qZA(),T._UZ(19,"hr"),T.TgZ(20,"nb-card"),T.TgZ(21,"nb-card-header"),T.TgZ(22,"h2"),T._uU(23,"\u6d3b\u52d5\u5217\u8868"),T.qZA(),T.qZA(),T.TgZ(24,"nb-card-body"),T.YNc(25,R,3,0,"div",10),T.YNc(26,V,3,4,"ng-container",11),T.qZA(),T.qZA(),T.qZA()),2&t&&(T.xp6(8),T.Q6J("formGroup",e.validateForm),T.xp6(2),T.Q6J("form",e.validateForm),T.xp6(1),T.Q6J("form",e.validateForm)("selectList",T.VKq(8,K,e.statusList)),T.xp6(1),T.Q6J("form",e.validateForm),T.xp6(5),T.Q6J("disabled",e.validateForm.invalid),T.xp6(8),T.Q6J("ngIf",e.isCrud.create),T.xp6(1),T.Q6J("ngIf",e.restDataSource||e.dataSource))},directives:[d.Asz,d.ndF,d.yKW,i.JL,i.sg,P.n,X.J,$.S,d.DPz,N.O5,l.T5,G.J],styles:[""]}),t})();var j=a(16738);const W=[{customerId:"A130864804",userName:"\u5510XX",mobile:"0916169386",tagSetting:[{tagName:"\u8fd1\u4e00\u500b\u6708_\u57fa\u91d1\u5b9a\u671f\u5b9a\u984d\u624b\u7e8c\u8cbb-\u9ad8",tagDescription:"\u8fd1\u4e00\u500b\u57fa\u91d1\u4ea4\u6613\u624b\u7e8c\u8cbb\u5927\u65bc\u7b49\u65bc3,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u8fd1\u4e09\u500b\u6708_\u57fa\u91d1\u624b\u7e8c\u8cbb-\u4f4e",tagDescription:"\u8fd1\u4e09\u500b\u6708\u57fa\u91d1\u4ea4\u6613\u624b\u7e8c\u8cbb\u5c0f\u65bc100",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-05-06",endDate:"2023-05-15"},{tagName:"\u5df2\u5a5a",tagDescription:"\u5df2\u5a5a",department:"\u71df\u904b\u90e8",tagType:"document",startDate:"2023-10-01",endDate:"2023-10-30"},{tagName:"\u8fd1\u4e00\u500b\u6708_\u57fa\u91d1\u5b9a\u671f\u5b9a\u984d\u624b\u7e8c\u8cbb-\u9ad8",tagDescription:"\u8fd1\u4e00\u500b\u57fa\u91d1\u4ea4\u6613\u624b\u7e8c\u8cbb\u5927\u65bc\u7b49\u65bc3,000",tagType:"normal",department:"\u6578\u4f4d\u91d1\u878d\u8655",startDate:"2023-01-01",endDate:"2023-06-30"},{tagName:"\u8fd1\u4e09\u500b\u6708_\u57fa\u91d1\u624b\u7e8c\u8cbb-\u4f4e",tagDescription:"\u8fd1\u4e09\u500b\u6708\u57fa\u91d1\u4ea4\u6613\u624b\u7e8c\u8cbb\u5c0f\u65bc100",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-05-01",endDate:"2023-10-30"},{tagName:"\u5df2\u5a5a",tagDescription:"\u5df2\u5a5a",department:"\u6578\u4f4d\u91d1\u878d\u8655",tagType:"document",startDate:"2023-06-15",endDate:"2023-06-30"},{tagName:"\u8fd1\u4e00\u500b\u6708_\u57fa\u91d1\u5b9a\u671f\u5b9a\u984d\u624b\u7e8c\u8cbb-\u9ad8",tagDescription:"\u8fd1\u4e00\u500b\u57fa\u91d1\u4ea4\u6613\u624b\u7e8c\u8cbb\u5927\u65bc\u7b49\u65bc3,000",tagType:"normal",department:"\u71df\u904b\u90e8",startDate:"2023-05-05",endDate:"2023-09-09"},{tagName:"\u8fd1\u4e09\u500b\u6708_\u57fa\u91d1\u624b\u7e8c\u8cbb-\u4f4e",tagDescription:"\u8fd1\u4e09\u500b\u6708\u57fa\u91d1\u4ea4\u6613\u624b\u7e8c\u8cbb\u5c0f\u65bc100",tagType:"document",department:"\u71df\u904b\u90e8",startDate:"2023-08-08",endDate:"2023-08-18"},{tagName:"\u5df2\u5a5a",tagDescription:"\u5df2\u5a5a",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",tagType:"normal",startDate:"2023-08-08",endDate:"2023-08-18"}],birthday:"1990-03-15",gender:"F",totalTxAmount:1547136,branchName:"\u677e\u5357\u5206\u884c",address:"\u53f0\u5317\u5e02\u677e\u5c71\u5340\u5357\u4eac\u6771\u8def\u4e94\u6bb5XX\u865fX",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655"},{customerId:"A135041919",userName:"\u738bXX",mobile:"0935547517",tagSetting:[{tagName:"\u8fd1\u4e00\u500b\u6708_\u63db\u532f_\u4ea4\u6613\u91d1\u984d-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u63db\u532f\u4ea4\u6613\u91d1\u984d\u5927\u65bc\u7b49\u65bc5,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u8fd1\u4e09\u500b\u6708_\u57fa\u91d1_\u4ea4\u6613\u91d1\u984d-\u4f4e",tagDescription:"\u8fd1\u4e09\u500b\u6708\u57fa\u91d1\u4ea4\u6613\u91d1\u984d\u5c0f\u65bc\u7b49\u65bc1,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-05",endDate:"2023-09-15"},{tagName:"\u5df2\u5a5a",tagDescription:"\u5df2\u5a5a",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-08-15",endDate:"2023-09-09"},{tagName:"\u5c45\u4f4f\u5730-\u5317\u90e8",tagDescription:"\u73fe\u5c45\u5730\u5740\u4f4d\u65bc\u5317\u90e8",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-15",endDate:"2023-10-30"},{tagName:"\u8fd1\u4e00\u500b\u6708_\u63db\u532f_\u4ea4\u6613\u91d1\u984d-3000\u4ee5\u4e0a",tagDescription:"\u8fd1\u4e09\u500b\u6708\u63db\u532f\u4ea4\u6613\u91d1\u984d\u5927\u65bc\u7b49\u65bc3,000",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-08-01",endDate:"2023-08-30"},{tagName:"\u8fd1\u4e09\u500b\u6708_\u57fa\u91d1_\u4ea4\u6613\u91d1\u984d-1000\u4ee5\u4e0b",tagDescription:"\u8fd1\u4e09\u500b\u6708\u57fa\u91d1\u4ea4\u6613\u91d1\u984d\u5c0f\u65bc\u7b49\u65bc1,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u672a\u5a5a",tagDescription:"\u672a\u5a5a",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-16",endDate:"2023-10-01"},{tagName:"\u5c45\u4f4f\u5730-\u53f0\u5317\u5e02",tagDescription:"\u73fe\u5c45\u5730\u5740\u4f4d\u65bc\u53f0\u5317\u5e02",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-07-01",endDate:"2023-07-30"}],birthday:"1985-06-03",gender:"M",totalTxAmount:1204420,branchName:"\u666f\u7f8e\u5206\u884c",address:"\u53f0\u5317\u5e02\u6587\u5c71\u5340\u666f\u7f8e\u88575\u5df723\u865f",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655"},{customerId:"A195295988",userName:"\u5eb7XX",mobile:"0969265172",tagSetting:[{tagName:"\u4ea4\u6613\u9ecf\u8457\u5ea6-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u63db\u532f\u4ea4\u6613\u91d1\u984d\u5927\u65bc\u7b49\u65bc5,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u4ea4\u6613\u9ecf\u8457\u5ea6-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u57fa\u91d1\u4ea4\u6613\u91d1\u984d\u5c0f\u65bc\u7b49\u65bc1,000",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u5c45\u4f4f\u5730-\u4e2d\u90e8",tagDescription:"\u73fe\u5c45\u5730\u5740\u4f4d\u65bc\u4e2d\u90e8",tagType:"normal",department:"\u6578\u4f4d\u91d1\u878d\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u7f8e\u98df\u611b\u597d\u8005",tagDescription:"\u65bc\u5404\u5927\u904b\u9001\u5e73\u53f0(ex: UberEat\u3001Food Panda) \u5237\u5361\u8a02\u99105\u6b21\u4ee5\u4e0a",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-08-01",endDate:"2023-09-15"}],birthday:"1995-10-27",gender:"F",totalTxAmount:335920,branchName:"\u4e2d\u5c71\u5206\u884c",address:"\u53f0\u5317\u5e02\u5927\u540c\u5340\u5357\u4eac\u897f\u8def18\u5df76\u5f048-2\u865f",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655"},{customerId:"B109170244",userName:"\u9127XX",mobile:"0987967806",tagSetting:[{tagName:"\u5faa\u74b0\u4fe1\u7528\u984d\u5ea6-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u5faa\u74b0\u91d1\u984d\u5927\u65bc\u7b49\u65bc3,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u975e\u4fe1\u7528\u5361\u5ba2\u6236",tagDescription:"\u672a\u65bc\u672c\u516c\u53f8\u7533\u8fa6\u4fe1\u7528\u5361\u4e4b\u7528\u6236",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-08-01",endDate:"2023-09-15"},{tagName:"\u7f8e\u98df\u611b\u597d\u8005",tagDescription:"\u65bc\u5404\u5927\u904b\u9001\u5e73\u53f0(ex: UberEat\u3001Food Panda) \u5237\u5361\u8a02\u99105\u6b21\u4ee5\u4e0a",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-07-15",endDate:"2023-09-30"}],birthday:"1996-04-19",gender:"F",totalTxAmount:197312,branchName:"\u677f\u6a4b\u5317\u9580\u5206\u884c",address:"\u65b0\u5317\u5e02\u677f\u6a4b\u5340\u5317\u9580\u885710\u865f",department:"\u6578\u4f4d\u91d1\u878d\u8655"},{customerId:"B185810128",userName:"\u4f55XX",mobile:"0989381191",tagSetting:[{tagName:"\u7f8e\u98df\u611b\u597d\u8005",tagDescription:"\u65bc\u5404\u5927\u904b\u9001\u5e73\u53f0(ex: UberEat\u3001Food Panda) \u5237\u5361\u8a02\u99105\u6b21\u4ee5\u4e0a",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-05-05",endDate:"2023-09-15"},{tagName:"\u5c45\u4f4f\u5730-\u5357\u90e8",tagDescription:"\u73fe\u5c45\u5730\u5740\u4f4d\u65bc\u5357\u90e8",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-07-14",endDate:"2023-08-30"},{tagName:"\u4ea4\u6613\u9ecf\u8457\u5ea6-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u63db\u532f\u4ea4\u6613\u91d1\u984d\u5927\u65bc\u7b49\u65bc5,000",tagType:"document",department:"\u71df\u904b\u90e8",startDate:"2023-08-08",endDate:"2023-08-18"},{tagName:"\u7537\u6027",tagDescription:"\u6027\u5225\u70ba\u7537\u6027",department:"\u71df\u904b\u90e8",tagType:"normal",startDate:"2023-07-09",endDate:"2023-08-18"}],birthday:"1983-11-01",gender:"M",totalTxAmount:5943200,branchName:"\u6c5f\u5b50\u7fe0\u5206\u884c",address:"\u65b0\u5317\u5e02\u677f\u6a4b\u5340\u9298\u50b3\u885776\u5df722\u865f",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655"},{customerId:"C112946963",userName:"\u718aXX",mobile:"0929064856",tagSetting:[{tagName:"\u7537\u6027",tagDescription:"\u6027\u5225\u70ba\u7537\u6027",department:"\u71df\u904b\u90e8",tagType:"normal",startDate:"2023-07-09",endDate:"2023-08-18"},{tagName:"\u5faa\u74b0\u4fe1\u7528\u984d\u5ea6-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u5faa\u74b0\u91d1\u984d\u5927\u65bc\u7b49\u65bc3,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u5c45\u4f4f\u5730-\u5357\u90e8",tagDescription:"\u73fe\u5c45\u5730\u5740\u4f4d\u65bc\u5357\u90e8",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-07-14",endDate:"2023-08-30"},{tagName:"\u5df2\u5a5a",tagDescription:"\u5df2\u5a5a",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-07-30",endDate:"2023-08-30"}],birthday:"1965-09-22",gender:"M",totalTxAmount:80200,branchName:"\u677f\u6a4b\u5317\u9580\u5206\u884c",address:"\u65b0\u5317\u5e02\u677f\u6a4b\u5340\u5317\u9580\u885710\u865f",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655"},{customerId:"C113154540",userName:"\u8b5aXX",mobile:"0922997916",tagSetting:[{tagName:"\u5973\u6027",tagDescription:"\u6027\u5225\u70ba\u5973\u6027",department:"\u71df\u904b\u90e8",tagType:"normal",startDate:"2023-07-09",endDate:"2023-08-18"},{tagName:"\u5c45\u4f4f\u5730-\u5317\u90e8",tagDescription:"\u73fe\u5c45\u5730\u5740\u4f4d\u65bc\u5317\u90e8",department:"\u71df\u904b\u90e8",tagType:"normal",startDate:"2023-03-01",endDate:"2023-06-01"},{tagName:"\u975e\u4fe1\u7528\u5361\u5ba2\u6236",tagDescription:"\u672a\u65bc\u672c\u516c\u53f8\u7533\u8fa6\u4fe1\u7528\u5361\u4e4b\u7528\u6236",department:"\u71df\u904b\u90e8",tagType:"document",startDate:"2023-08-08",endDate:"2023-08-31"},{tagName:"\u672a\u5a5a",tagDescription:"\u672a\u5a5a",department:"\u71df\u904b\u90e8",tagType:"normal",startDate:"2023-07-15",endDate:"2023-08-18"}],birthday:"1958-03-19",gender:"F",totalTxAmount:104500,branchName:"\u4e2d\u5c71\u5206\u884c",address:"\u53f0\u5317\u5e02\u5927\u540c\u5340\u5357\u4eac\u897f\u8def18\u5df76\u5f0428\u865f",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655"},{customerId:"C119866018",userName:"\u5b6bXX",mobile:"0912345678",tagSetting:[{tagName:"\u975e\u4fe1\u7528\u5361\u5ba2\u6236",tagDescription:"\u672a\u65bc\u672c\u516c\u53f8\u7533\u8fa6\u4fe1\u7528\u5361\u4e4b\u7528\u6236",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-08-08",endDate:"2023-08-31"},{tagName:"\u7f8e\u98df\u611b\u597d\u8005",tagDescription:"\u65bc\u5404\u5927\u904b\u9001\u5e73\u53f0(ex: UberEat\u3001Food Panda) \u5237\u5361\u8a02\u99105\u6b21\u4ee5\u4e0a",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-05-05",endDate:"2023-09-15"},{tagName:"\u4fe1\u7528\u72c0\u6cc1-\u826f\u597d",tagDescription:"\u7121\u501f\u8cb8\u7d00\u9304\u6216\u7121\u6b20\u7e73\u7d00\u9304",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"}],birthday:"1966-12-25",gender:"M",totalTxAmount:156200,branchName:"\u6771\u9580\u5206\u884c",address:"\u53f0\u5317\u5e02\u5927\u5b89\u5340\u4fe1\u7fa9\u8def\u4e8c\u6bb5200\u865f",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655"},{customerId:"C150528007",userName:"\u7f85XX",mobile:"0978500452",tagSetting:[{tagName:"\u5faa\u74b0\u4fe1\u7528\u984d\u5ea6-\u4f4e",tagDescription:"\u8fd1\u4e09\u500b\u6708\u5faa\u74b0\u91d1\u984d\u5c0f\u65bc3,000",tagType:"normal",department:"\u6578\u4f4d\u91d1\u878d\u8655",startDate:"2023-08-24",endDate:"2023-09-01"},{tagName:"\u5df2\u5a5a",tagDescription:"\u5df2\u5a5a",tagType:"normal",department:"\u6578\u4f4d\u91d1\u878d\u8655",startDate:"2023-07-15",endDate:"2023-09-30"},{tagName:"\u6d88\u8cbb\u80fd\u529b-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u5237\u5361\u7d2f\u8a08\u91d1\u984d\u5927\u65bc\u7b49\u65bc10,000",tagType:"document",department:"\u6578\u4f4d\u91d1\u878d\u8655",startDate:"2023-07-15",endDate:"2023-09-30"}],birthday:"1980-01-18",gender:"M",totalTxAmount:426200,branchName:"\u4fe1\u7fa9\u5206\u884c",address:"\u53f0\u5317\u5e02\u4fe1\u7fa9\u5340\u5fe0\u5b5d\u6771\u8def\u4e94\u6bb568\u865f",department:"\u8ca1\u5bcc\u7ba1\u7406\u8655"},{customerId:"C164346864",userName:"\u8d99XX",mobile:"0978937402",tagSetting:[{tagName:"\u672a\u5a5a",tagDescription:"\u672a\u5a5a",tagType:"normal",department:"\u6578\u4f4d\u91d1\u878d\u8655",startDate:"2023-07-15",endDate:"2023-09-30"},{tagName:"\u7537\u6027",tagDescription:"\u6027\u5225\u70ba\u7537\u6027",tagType:"document",department:"\u6578\u4f4d\u91d1\u878d\u8655",startDate:"2023-01-01",endDate:"2023-10-30"},{tagName:"\u6d88\u8cbb\u80fd\u529b-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u5237\u5361\u7d2f\u8a08\u91d1\u984d\u5927\u65bc\u7b49\u65bc10,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-07-15",endDate:"2023-09-30"}],birthday:"1994-02-07",gender:"M",totalTxAmount:50200,branchName:"\u4fe1\u7fa9\u5206\u884c",address:"\u53f0\u5317\u5e02\u4fe1\u7fa9\u5340\u57fa\u9686\u8def\u4e00\u6bb5147\u5df75\u5f0413\u865f",department:"\u8ca1\u5bcc\u7ba1\u7406\u8655"},{customerId:"A123456789",userName:"\u9ad8XX",mobile:"0912345678",tagSetting:[{tagName:"\u8fd1\u4e09\u500b\u6708_\u57fa\u91d1\u5b9a\u671f\u5b9a\u984d\u624b\u7e8c\u8cbb-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u57fa\u91d1\u4ea4\u6613\u624b\u7e8c\u8cbb\u5927\u65bc\u7b49\u65bc9,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u672a\u5a5a",tagDescription:"\u672a\u5a5a",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-16",endDate:"2023-10-01"}],birthday:"1978-06-30",gender:"F",totalTxAmount:190200,branchName:"\u842c\u83ef\u5206\u884c",address:"\u53f0\u5317\u5e02\u842c\u83ef\u5340\u548c\u5e73\u897f\u8def\u4e09\u6bb5120\u865f\u9f8d\u5c71\u7f8e\u98df\u5ee3\u58341\u6a13",department:"\u8ca1\u5bcc\u7ba1\u7406\u8655"},{customerId:"F124491189",userName:"\u80e1XX",mobile:"0931235217",tagSetting:[{tagName:"\u8fd1\u4e00\u500b\u6708_\u63db\u532f\u4ea4\u6613\u984d-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u63db\u532f\u4ea4\u6613\u91d1\u984d\u5927\u65bc\u7b49\u65bc5,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u8fd1\u4e09\u500b\u6708_\u57fa\u91d1\u4ea4\u6613\u91d1\u984d-\u4f4e",tagDescription:"\u8fd1\u4e09\u500b\u6708\u57fa\u91d1\u4ea4\u6613\u91d1\u984d\u5c0f\u65bc5,000",tagType:"document",department:"\u6578\u4f4d\u91d1\u878d\u8655",startDate:"2023-01-01",endDate:"2023-10-30"},{tagName:"\u5c45\u4f4f\u5730-\u5317\u90e8",tagDescription:"\u73fe\u5c45\u5730\u5740\u4f4d\u65bc\u5317\u90e8",tagType:"document",department:"\u6578\u4f4d\u91d1\u878d\u8655",startDate:"2023-06-06",endDate:"2023-06-30"}],birthday:"1984-07-27",gender:"F",totalTxAmount:43913250,branchName:"\u842c\u83ef\u5206\u884c",address:"\u53f0\u5317\u5e02\u842c\u83ef\u5340\u548c\u5e73\u897f\u8def\u4e09\u6bb5120\u865f\u9f8d\u5c71\u7f8e\u98df\u5ee3\u58341\u6a13",department:"\u6578\u4f4d\u91d1\u878d\u8655"},{customerId:"A126400921",userName:"\u8a31XX",mobile:"0969265172",tagSetting:[{tagName:"\u4ea4\u6613\u9ecf\u8457\u5ea6-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u63db\u532f\u4ea4\u6613\u91d1\u984d\u5927\u65bc\u7b49\u65bc5,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u4ea4\u6613\u9ecf\u8457\u5ea6-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u57fa\u91d1\u4ea4\u6613\u91d1\u984d\u5c0f\u65bc\u7b49\u65bc1,000",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u5c45\u4f4f\u5730-\u4e2d\u90e8",tagDescription:"\u73fe\u5c45\u5730\u5740\u4f4d\u65bc\u4e2d\u90e8",tagType:"normal",department:"\u6578\u4f4d\u91d1\u878d\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u7f8e\u98df\u611b\u597d\u80051",tagDescription:"\u65bc\u5404\u5927\u904b\u9001\u5e73\u53f0(ex: UberEat\u3001Food Panda) \u5237\u5361\u8a02\u99105\u6b21\u4ee5\u4e0a",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-08-01",endDate:"2023-09-15"},{tagName:"\u975e\u4fe1\u7528\u5361\u5ba2\u6236",tagDescription:"\u672a\u65bc\u672c\u516c\u53f8\u7533\u8fa6\u4fe1\u7528\u5361\u4e4b\u7528\u6236",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-08-08",endDate:"2023-08-31"},{tagName:"\u7f8e\u98df\u611b\u597d\u80052",tagDescription:"\u65bc\u5404\u5927\u904b\u9001\u5e73\u53f0(ex: UberEat\u3001Food Panda) \u5237\u5361\u8a02\u991015\u6b21\u4ee5\u4e0a",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-05-05",endDate:"2023-09-15"},{tagName:"\u4fe1\u7528\u72c0\u6cc1-\u826f\u597d",tagDescription:"\u7121\u501f\u8cb8\u7d00\u9304\u6216\u7121\u6b20\u7e73\u7d00\u9304",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"}],birthday:"1997-08-09",gender:"F",totalTxAmount:426200,branchName:"\u6c38\u548c\u5206\u884c",address:"\u65b0\u5317\u5e02\u6c38\u548c\u5340\u6c38\u5229\u8def108\u865f1\u6a13",department:"\u6578\u4f4d\u91d1\u878d\u8655"},{customerId:"A237772047",userName:"\u9673XX",mobile:"0982614686",tagSetting:[{tagName:"\u5faa\u74b0\u4fe1\u7528\u984d\u5ea6-\u9ad8",tagDescription:"\u8fd1\u4e09\u500b\u6708\u5faa\u74b0\u91d1\u984d\u5927\u65bc\u7b49\u65bc3,000",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-09-01",endDate:"2023-09-30"},{tagName:"\u975e\u4fe1\u7528\u5361\u5ba2\u6236",tagDescription:"\u672a\u65bc\u672c\u516c\u53f8\u7533\u8fa6\u4fe1\u7528\u5361\u4e4b\u7528\u6236",tagType:"document",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-08-01",endDate:"2023-09-15"},{tagName:"\u7f8e\u98df\u611b\u597d\u8005",tagDescription:"\u65bc\u5404\u5927\u904b\u9001\u5e73\u53f0(ex: UberEat\u3001Food Panda) \u5237\u5361\u8a02\u99105\u6b21\u4ee5\u4e0a",tagType:"normal",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655",startDate:"2023-07-15",endDate:"2023-09-30"}],birthday:"1999-05-14",gender:"F",totalTxAmount:9992408,branchName:"\u5fa9\u8208\u5206\u884c",address:"\u53f0\u5317\u5e02\u5927\u5b89\u5340\u5fa9\u8208\u5357\u8def\u4e00\u6bb5107\u5df77\u865f1\u6a13",department:"\u4fe1\u7528\u5361\u66a8\u652f\u4ed8\u8655"}];var tt=a(32552),et=a(68939),at=a(11004),it=a(46988);function nt(t,e){if(1&t&&(T.TgZ(0,"div",13),T._UZ(1,"nb-icon",14),T.TgZ(2,"p"),T._uU(3),T.qZA(),T.qZA()),2&t){const t=T.oxw();T.xp6(3),T.Oqu(t.info)}}function st(t,e){if(1&t&&T._UZ(0,"ng2-smart-table",15),2&t){const t=T.oxw();T.Q6J("settings",t.gridDefine)("source",t.dataSource)}}function rt(t,e){if(1&t&&T._UZ(0,"paginator",16),2&t){const t=T.oxw();T.Q6J("source",t.dataSource)("paginator",t.paginator)}}const ot=function(t){return{options:t,key:"key",val:"value"}};let ct=(()=>{class t extends Z.H{constructor(t,e,a,n,s,r,o,c){super(t,e,a),this.loadingService=n,this.tagManageService=s,this.customerManageService=r,this.dialogService=o,this.ref=c,this.orderByList=new Map,this.sortList=new Map([["asc","\u5347\u51aa"],["desc","\u964d\u51aa"]]),this.gridDefine={pager:{display:!0,perPage:10},columns:{customerId:{title:"\u7528\u6236\u7de8\u865f",type:"string",class:"col-3",sort:!1},userName:{title:"\u59d3\u540d",type:"string",class:"col-2",sort:!1},mobile:{title:"\u624b\u6a5f\u865f\u78bc",type:"string",class:"col-3",sort:!1},birthday:{title:"\u751f\u65e5",type:"string",class:"col-4",sort:!1}},hideSubHeader:!0,actions:{add:!1,edit:!1,delete:!1},attr:{class:"dialogTable"}},this.validateForm=new i.cw({size:new i.NI(null,B.I.listLimitRequired),conditionKey:new i.NI("",i.kI.required),orderby:new i.NI("asc",i.kI.required)})}ngOnInit(){this.validateForm.get("size").setValue(this.size),this.isMock?tt.B.forEach(t=>this.orderByList.set(t.conditionKey,t.conditionName)):this.tagManageService.getTagConditionList().pipe((0,v.K)(t=>{this.loadingService.close();let e=!!Object.values(p.m).includes(t.code)&&null;throw this.dialogService.alertAndBackToList(e,"\u7121\u53ef\u9078\u7684\u8cc7\u6599\u6392\u5e8f\u65b9\u5f0f"),new Error(t.message)}),(0,f.h)(t=>t.code===p.$.SUCCESS),(0,y.b)(t=>{t.result.forEach(t=>this.orderByList.set(t.conditionKey,t.conditionName)),this.loadingService.close()})).subscribe()}changeSort(t){this.dataSource.setSort([{field:"custId",direction:t}])}search(){if(this.validateForm.invalid)return;if(this.loadingService.open(),this.isMock)return this.dataSource.load(W),this.info="\u540d\u55ae\u9810\u8a08\u53ef\u6293\u53d6\u5171"+W.length+"\u4f4d\u540d\u55ae\u8cc7\u6599\uff0c\u82e5\u6709\u9810\u7b97\u4e0a\u8003\u91cf\u8acb\u8a2d\u5b9a\u540d\u55ae\u4e0a\u9650\u8207\u8cc7\u6599\u6392\u5e8f\u65b9\u5f0f\u3002",void this.loadingService.close();let t=this.validateForm.getRawValue(),e=h.l.groupBy(this.conditionList,"tagGroup",!1),a=Object.keys(e).map(t=>e[t].map(t=>t.tagId));t.activityListCondition=a,this.customerManageService.getPreviewCustomerByActivityListCondition(t).pipe((0,v.K)(t=>{throw this.dialogService.alertAndBackToList(!1,t.message),new Error(t.message)}),(0,f.h)(t=>t.code===p.$.SUCCESS),(0,y.b)(t=>{this.dataSource=new l.nC,this.dataSource.load(t.result),this.info="\u540d\u55ae\u9810\u8a08\u53ef\u6293\u53d6\u5171"+t.result.length+"\u4f4d\u540d\u55ae\u8cc7\u6599\uff0c\u82e5\u6709\u9810\u7b97\u4e0a\u8003\u91cf\u8acb\u8a2d\u5b9a\u540d\u55ae\u4e0a\u9650\u8207\u8cc7\u6599\u6392\u5e8f\u65b9\u5f0f\u3002"}),(0,et.x)(()=>this.loadingService.close())).subscribe()}close(){this.ref.close()}}return t.\u0275fac=function(e){return new(e||t)(T.Y36(b.V),T.Y36(D.E),T.Y36(A.r),T.Y36(x.b),T.Y36(at.P),T.Y36(q.Q),T.Y36(n.x),T.Y36(d.X4l))},t.\u0275cmp=T.Xpm({type:t,selectors:[["ngx-preview"]],inputs:{size:"size",conditionList:"conditionList"},features:[T.qOj],decls:21,vars:14,consts:[[1,"dialogCard","large"],[1,"row"],["title","\u540d\u55ae\u4e0a\u9650","ctlName","size",1,"col-4",3,"form","disabled"],["title","\u8cc7\u6599\u6392\u5e8f\u65b9\u5f0f","ctlName","conditionKey",1,"col-4",3,"form","mapList"],["title","\u6392\u5e8f\u9806\u5e8f","ctlName","orderby",1,"col-2",3,"form","selectList","valueChange"],[1,"rightBox"],["nbButton","","status","primary","size","medium",3,"disabled","click"],["icon","search"],["class","noteText",4,"ngIf"],[3,"settings","source",4,"ngIf"],[3,"source","paginator",4,"ngIf"],[1,"btnGroup"],["nbButton","","status","basic","size","medium",3,"click"],[1,"noteText"],["icon","info-outline"],[3,"settings","source"],[3,"source","paginator"]],template:function(t,e){1&t&&(T.TgZ(0,"nb-card",0),T.TgZ(1,"nb-card-header"),T.TgZ(2,"h2"),T._uU(3,"\u9810\u89bd\u540d\u55ae"),T.qZA(),T.qZA(),T.TgZ(4,"nb-card-body"),T.TgZ(5,"div",1),T._UZ(6,"basic-input",2),T._UZ(7,"dropdown",3),T.TgZ(8,"radio",4),T.NdJ("valueChange",function(t){return e.changeSort(t)}),T.ALo(9,"keyvalue"),T.qZA(),T.TgZ(10,"div",5),T.TgZ(11,"button",6),T.NdJ("click",function(){return e.search()}),T._UZ(12,"nb-icon",7),T._uU(13,"\u641c\u5c0b"),T.qZA(),T.qZA(),T.qZA(),T.YNc(14,nt,4,1,"div",8),T.YNc(15,st,1,2,"ng2-smart-table",9),T.YNc(16,rt,1,2,"paginator",10),T.qZA(),T.TgZ(17,"nb-card-footer"),T.TgZ(18,"div",11),T.TgZ(19,"button",12),T.NdJ("click",function(){return e.close()}),T._uU(20,"\u95dc \u9589"),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&t&&(T.xp6(6),T.Q6J("form",e.validateForm)("disabled",!0),T.xp6(1),T.Q6J("form",e.validateForm)("mapList",e.orderByList),T.xp6(1),T.Q6J("form",e.validateForm)("selectList",T.VKq(12,ot,T.lcZ(9,10,e.sortList))),T.xp6(3),T.Q6J("disabled",e.validateForm.invalid),T.xp6(3),T.Q6J("ngIf",e.info),T.xp6(1),T.Q6J("ngIf",!!e.dataSource),T.xp6(1),T.Q6J("ngIf",!!e.dataSource))},directives:[d.Asz,d.ndF,d.yKW,P.n,X.J,it.U,d.DPz,d.fMN,N.O5,d.XWE,l.T5,G.J],pipes:[N.Nd],styles:[".dialogCard.statusDialog[_ngcontent-%COMP%]     nb-icon{width:1em!important;height:1em!important;margin:0!important}  .paginator:not(.only){display:flex!important}"]}),t})();function dt(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"button",26),T.NdJ("click",function(){T.CHM(t);const e=T.oxw().index;return T.oxw().or("remove",e)}),T._UZ(1,"nb-icon",27),T.qZA()}}function lt(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"button",28),T.NdJ("click",function(){T.CHM(t);const e=T.oxw().index;return T.oxw().or("add",e)}),T._UZ(1,"nb-icon",29),T.qZA()}}function gt(t,e){if(1&t&&(T.TgZ(0,"nb-option",40),T._uU(1),T.qZA()),2&t){const t=e.$implicit;T.Q6J("value",t.key),T.xp6(1),T.Oqu(t.value)}}function ut(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"button",28),T.NdJ("click",function(){T.CHM(t);const e=T.oxw(2).$implicit,a=T.oxw().index;return T.oxw().and(a,"add",+e.key)}),T._UZ(1,"nb-icon",29),T.qZA()}}function pt(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"button",26),T.NdJ("click",function(){T.CHM(t);const e=T.oxw(2).$implicit,a=T.oxw().index;return T.oxw().and(a,"remove",+e.key)}),T._UZ(1,"nb-icon",27),T.qZA()}}function mt(t,e){1&t&&(T.TgZ(0,"p"),T._uU(1,"\u6b64\u70ba\u5fc5\u586b\u6b04\u4f4d"),T.qZA())}function ht(t,e){if(1&t&&(T.TgZ(0,"p"),T._uU(1),T.qZA()),2&t){const t=T.oxw().ngIf;T.xp6(1),T.Oqu(null==t.errors?null:t.errors.repeat)}}const Zt=function(t){return{error:t}},vt=function(t,e){return{color_red:t,color_green:e}};function ft(t,e){if(1&t&&(T.TgZ(0,"div",32),T.TgZ(1,"div",33),T.TgZ(2,"nb-select",34),T.YNc(3,gt,2,2,"nb-option",35),T.ALo(4,"keyvalue"),T.qZA(),T.TgZ(5,"span",36),T._uU(6,"and"),T.qZA(),T.YNc(7,ut,2,0,"button",24),T.YNc(8,pt,2,0,"button",23),T.qZA(),T.TgZ(9,"div",10),T._UZ(10,"nb-icon",37),T.YNc(11,mt,2,0,"p",38),T.YNc(12,ht,2,1,"ng-template",null,39,T.W1O),T.qZA(),T.qZA()),2&t){const t=e.ngIf,a=T.MAs(13),i=T.oxw(),n=i.$implicit,s=i.first,r=i.last,o=T.oxw().index,c=T.oxw();T.Q6J("ngClass",T.VKq(11,Zt,((null==t?null:t.dirty)||(null==t?null:t.touched))&&(null==t?null:t.errors))),T.xp6(2),T.Q6J("status",c.conditionHasError(""+o,""+n.key)?"danger":"basic")("formControlName",""+n.key),T.xp6(1),T.Q6J("ngForOf",T.lcZ(4,9,c.categoryList)),T.xp6(2),T.Q6J("ngClass",T.WLB(13,vt,!s||s!==r,r)),T.xp6(2),T.Q6J("ngIf",r),T.xp6(1),T.Q6J("ngIf",!s||s!==r),T.xp6(3),T.Q6J("ngIf",null==t.errors?null:t.errors.required)("ngIfElse",a)}}function yt(t,e){if(1&t&&(T.TgZ(0,"div",30),T.YNc(1,ft,14,16,"div",31),T.qZA()),2&t){const t=e.$implicit,a=T.oxw(),i=a.$implicit;T.Q6J("formGroupName",a.index),T.xp6(1),T.Q6J("ngIf",i.get(""+ +t.key))}}function Tt(t,e){if(1&t&&(T.ynx(0,21),T.TgZ(1,"div",22),T.TgZ(2,"p"),T._uU(3),T.qZA(),T.YNc(4,dt,2,0,"button",23),T.YNc(5,lt,2,0,"button",24),T.qZA(),T.YNc(6,yt,2,2,"div",25),T.ALo(7,"keyvalue"),T.BQk()),2&t){const t=e.$implicit,a=e.index,i=e.first,n=e.last;T.xp6(3),T.hij("\u6d3b\u52d5\u540d\u55ae\u689d\u4ef6",a+1,""),T.xp6(1),T.Q6J("ngIf",!i||i!==n),T.xp6(1),T.Q6J("ngIf",n),T.xp6(1),T.Q6J("ngForOf",T.lcZ(7,4,t.value))}}const bt=function(t){return{options:t,key:"key",val:"val"}};let Dt=(()=>{class t extends Z.H{constructor(t,e,a,n,s,r,o,c,d,l){super(t,e,a),this.router=n,this.activatedRoute=s,this.dialogService=r,this.customerManageService=o,this.tagManageService=c,this.loadingService=d,this.changeDetectorRef=l,this.filterList=Object.entries(Q.wn).map(([t,e])=>({key:t,val:e})),this.scheduleList=Object.entries(Q.Di).map(([t,e])=>({key:t,val:e})),this.categoryList=new Map,this.popupText="\u6bcf\u6b21\u7522\u51fa\u7684\u5ba2\u7fa4\u6d3b\u52d5\u540d\u55ae\u6703\u6bd4\u5c0d\u5148\u524d\u7522\u51fa\u4e4b\u540d\u55ae\uff0c\u4e26\u6392\u9664\u5df2\u5728\u5148\u524d\u540d\u55ae\u4e2d\u7684\u5ba2\u6236\u8cc7\u6599",this.validateForm=new i.cw({activityName:new i.NI(null,[i.kI.required,B.I.blank]),status:new i.NI("disabled",i.kI.required),listLimit:new i.NI(null,[B.I.number,B.I.notZero]),filterOptions:new i.NI(!1),startDate:new i.NI(new Date,[i.kI.required,B.I.dateFmt]),endDate:new i.NI(j(new Date).add(3,"months").toDate(),[i.kI.required,B.I.dateFmt]),scheduleSettings:new i.NI(null,i.kI.required),activityDescription:new i.NI(null),activityListCondition:new i.Oe([new i.cw({1:new i.NI(null,[i.kI.required,B.I.isRepeat])})],i.kI.required)},[B.I.dateRange])}ngAfterViewChecked(){this.changeDetectorRef.detectChanges()}or(t,e){if("add"===t){let t=e?e++:1;this.conditions.push(new i.cw({[t]:new i.NI(null,[i.kI.required,B.I.isRepeat])}))}else this.conditions.removeAt(e)}and(t,e,a){let n=this.conditions.at(t);"add"===e?n.setControl(`${a+1}`,new i.NI(null,[i.kI.required,B.I.isRepeat])):n.removeControl(`${a}`)}get conditions(){return this.validateForm.get("activityListCondition")}ngOnInit(){var t;if(this.activityId=null===(t=this.activatedRoute.snapshot.params)||void 0===t?void 0:t.activityId,this.actionName=h.l.getActionName(h.l.isNotBlank(this.activityId)?"edit":null),this.isMock){if(m.w.forEach(t=>{t.activityListCondition.forEach(t=>this.categoryList.set(t.tagId,t.tagName))}),this.activityId&&(this.loadingService.open(),this.isMock)){let t=m.w.find(t=>t.activityId===this.activityId);return this.setData(t),void this.loadingService.close()}}else this.tagManageService.getTagSettingListOption().pipe((0,v.K)(t=>{var e,a;throw this.loadingService.close(),this.dialogService.alertAndBackToList(!1,"\u67e5\u8a62\u53ef\u9078\u6d3b\u52d5\u540d\u55ae\u689d\u4ef6\u5931\u6557"),null===(a=null===(e=this.validateForm)||void 0===e?void 0:e.get("activityListCondition"))||void 0===a||a.setErrors({categoryKeyErrMsg:t.message?t.message:"\u67e5\u8a62\u53ef\u9078\u6d3b\u52d5\u540d\u55ae\u689d\u4ef6\u5931\u6557"}),new Error(t.message)}),(0,f.h)(t=>t.code===p.$.SUCCESS),(0,y.b)(t=>{Object.entries(t.result).forEach(([t,e])=>this.categoryList.set(t,e)),this.loadingService.close()})).subscribe(()=>{this.activityId&&(this.loadingService.open(),this.customerManageService.getActivitySettingRow(this.activityId).pipe((0,v.K)(t=>{throw this.dialogService.alertAndBackToList(!1,"\u67e5\u7121\u8a72\u7b46\u8cc7\u6599\uff0c\u5c07\u70ba\u60a8\u5c0e\u56de\u5ba2\u7fa4\u540d\u55ae",["pages","customer-manage","activity-list"]),new Error(t.message)}),(0,f.h)(t=>t.code===p.$.SUCCESS),(0,y.b)(t=>{this.setData(t.result),this.loadingService.close()})).subscribe())})}setData(t){Object.keys(t).forEach(e=>{if(this.validateForm.controls[e])switch(e){case"startDate":case"endDate":this.validateForm.controls[e].setValue(new Date(t[e]));break;case"filterOptions":this.validateForm.controls[e].setValue("true"===t[e]);break;case"activityListCondition":let a=h.l.groupBy(t[e],"tagGroup");Object.keys(a).length>0&&this.conditions.removeAt(0),Object.keys(a).forEach(t=>{let e=new i.cw({});a[t].forEach((t,a)=>{this.categoryList.get(t.tagId)?e.setControl(""+a,new i.NI(t.tagId,[i.kI.required,B.I.isRepeat])):(this.dialogService.alertAndBackToList(null,`\u6d3b\u52d5\u540d\u55ae\u689d\u4ef6 ${t.tagName} \u5df2\u4e0d\u5b58\u5728\uff0c\u8acb\u91cd\u65b0\u9078\u64c7`),e.setControl(""+a,new i.NI(null,[i.kI.required,B.I.isRepeat])),e.get(""+a).markAsTouched())}),this.conditions.push(e)});break;default:this.validateForm.controls[e].setValue(t[e])}})}cancel(){this.router.navigate(["pages","customer-manage","activity-list"])}preview(){this.dialogService.open(ct,{size:this.validateForm.get("listLimit").value,conditionList:this.getRequestData().activityListCondition})}submit(){let t=this.validateForm.valid,e=this.getRequestData();if(t&&e){if(this.isMock)return this.dialogService.alertAndBackToList(!0,`${this.actionName}\u6d3b\u52d5\u9001\u5be9\u6210\u529f`,["pages","customer-manage","activity-list"]),void this.loadingService.close();this.saveActivitySetting(e)}else this.dialogService.alertAndBackToList(!1,`${this.actionName}\u6d3b\u52d5\u9a57\u8b49\u5931\u6557`,["pages","customer-manage","customer-set",...this.activityId?[this.activityId]:[]])}saveActivitySetting(t){this.loadingService.open(),(this.activityId?this.customerManageService.updateActivitySetting(this.activityId,t):this.customerManageService.createActivitySetting(t)).pipe((0,v.K)(t=>{throw this.dialogService.alertAndBackToList(!1,`${this.actionName}\u6d3b\u52d5\u5931\u6557 ${t.message}`,["pages","customer-manage","activity-set",...this.activityId?[this.activityId]:[]]),new Error(t.message)}),(0,y.b)(t=>{console.info(t),this.loadingService.close()})).subscribe(t=>{t.code===p.$.SUCCESS&&this.dialogService.alertAndBackToList(!0,`${this.actionName}\u6d3b\u52d5\u9001\u5be9\u6210\u529f`,["pages","customer-manage","activity-list"])})}getRequestData(){let t=this.validateForm.getRawValue();t.startDate=j(t.startDate).format("YYYY-MM-DD"),t.endDate=j(t.endDate).format("YYYY-MM-DD");let e=0,a=[];return this.validateForm.getRawValue().activityListCondition.forEach((t,i)=>{Object.keys(t).forEach(n=>{e++,a.push({conditionId:`${e}`,tagGroup:i+1,tagId:t[n],tagName:this.categoryList.get(t[n])})})}),t.activityListCondition=a,t}conditionHasError(t,e){let a=this.validateForm.get("activityListCondition"),i=a.at(+t).get(e).touched,n=a.at(+t).get(e).dirty,s=a.at(+t).get(e).errors;return!(!i&&!n||!s)}}return t.\u0275fac=function(e){return new(e||t)(T.Y36(b.V),T.Y36(D.E),T.Y36(A.r),T.Y36(u.F0),T.Y36(u.gz),T.Y36(n.x),T.Y36(q.Q),T.Y36(at.P),T.Y36(x.b),T.Y36(T.sBO))},t.\u0275cmp=T.Xpm({type:t,selectors:[["activity-set"]],features:[T.qOj],decls:49,vars:15,consts:[[1,"pageTitle"],[1,"pageContent"],[3,"formGroup"],[1,"row"],["title","\u6d3b\u52d5\u540d\u7a31","ctlName","activityName",1,"col-12","col-lg-6",3,"form"],["title","\u72c0\u614b","ctlName","status","status","info",1,"col-12","col-lg-6",3,"form"],["title","\u540d\u55ae\u4e0a\u9650","ctlName","listLimit",1,"col-12","col-lg-6",3,"form"],[1,"fieldGroup","col-12","col-lg-6"],["icon","question-mark-circle","nbPopoverPlacement","top",3,"nbPopover"],["formControlName","filterOptions","status","info"],[1,"note","errorText"],["icon","alert-triangle"],[3,"form"],["title","\u6392\u7a0b\u8a2d\u5b9a","ctlName","scheduleSettings",1,"col-12","col-lg-6",3,"form","selectList"],["title","\u63cf\u8ff0\u8aaa\u660e","ctlName","activityDescription",1,"col-12","col-lg-6",3,"form"],["formArrayName","activityListCondition",4,"ngFor","ngForOf"],[1,"noteText"],[1,"btnGroup"],["nbButton","","status","basic","size","medium",3,"click"],["nbButton","","status","info","size","medium",3,"disabled","click"],["nbButton","","status","primary","size","medium",3,"disabled","click"],["formArrayName","activityListCondition"],[1,"subTitle"],["nbButton","","status","danger","size","tiny","class","iconBtn",3,"click",4,"ngIf"],["nbButton","","status","success","size","tiny","class","iconBtn",3,"click",4,"ngIf"],["class","colorArea",3,"formGroupName",4,"ngFor","ngForOf"],["nbButton","","status","danger","size","tiny",1,"iconBtn",3,"click"],["icon","trash-2-outline"],["nbButton","","status","success","size","tiny",1,"iconBtn",3,"click"],["icon","plus-outline"],[1,"colorArea",3,"formGroupName"],["class","fieldGroup",3,"ngClass",4,"ngIf"],[1,"fieldGroup",3,"ngClass"],[1,"mb_0"],["fullWidth","","placeholder","\u8acb\u9078\u64c7",3,"status","formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"and",3,"ngClass"],["icon","alert-triangle",1,"and"],[4,"ngIf","ngIfElse"],["otherErr",""],[3,"value"]],template:function(t,e){1&t&&(T.TgZ(0,"div",0),T.TgZ(1,"h1"),T._uU(2,"\u5ba2\u7fa4\u6d3b\u52d5\u540d\u55ae"),T.qZA(),T.qZA(),T.TgZ(3,"div",1),T.TgZ(4,"nb-card"),T.TgZ(5,"nb-card-header"),T.TgZ(6,"h2"),T._uU(7),T.qZA(),T.qZA(),T.TgZ(8,"nb-card-body",2),T.TgZ(9,"div",3),T._UZ(10,"basic-input",4),T._UZ(11,"radio",5),T.qZA(),T.TgZ(12,"div",3),T._UZ(13,"basic-input",6),T.TgZ(14,"div",7),T.TgZ(15,"label"),T._uU(16,"\u540d\u55ae\u5dee\u7570\u904e\u6ffe"),T.qZA(),T._UZ(17,"nb-icon",8),T.TgZ(18,"div"),T.TgZ(19,"nb-checkbox",9),T._uU(20,"\u555f\u7528"),T.qZA(),T.qZA(),T.TgZ(21,"div",10),T._UZ(22,"nb-icon",11),T.TgZ(23,"p"),T._uU(24,"\u6b04\u4f4d\u932f\u8aa4\u8a0a\u606f"),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T._UZ(25,"date-range",12),T.TgZ(26,"div",3),T._UZ(27,"dropdown",13),T._UZ(28,"basic-input",14),T.qZA(),T.YNc(29,Tt,8,6,"ng-container",15),T.TgZ(30,"div",16),T.TgZ(31,"div"),T.TgZ(32,"p"),T._uU(33,"\u6d3b\u52d5\u540d\u55ae\u689d\u4ef6\u8aaa\u660e\uff1a"),T.qZA(),T.TgZ(34,"ul"),T.TgZ(35,"li"),T._uU(36,"\u6d3b\u52d5\u689d\u4ef6\u5167\u6a19\u7c64\u9593\u7684\u95dc\u4fc2\u908f\u8f2f\u70ba\u300cand\u300d"),T.qZA(),T.TgZ(37,"li"),T._uU(38,"\u5404\u6d3b\u52d5\u689d\u4ef6\u4e4b\u9593\u7684\u908f\u8f2f\u95dc\u4fc2\u70ba\u300cor\u300d"),T.qZA(),T.TgZ(39,"li"),T._uU(40,"\u81f3\u5c11\u8a2d\u5b9a\u4e00\u7d44\u6d3b\u52d5\u689d\u4ef6\uff0c\u5404\u6d3b\u52d5\u689d\u4ef6\u5167\u81f3\u5c11\u8a2d\u5b9a\u4e00\u500b\u6a19\u7c64"),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(41,"div",3),T.TgZ(42,"div",17),T.TgZ(43,"button",18),T.NdJ("click",function(){return e.cancel()}),T._uU(44,"\u53d6 \u6d88"),T.qZA(),T.TgZ(45,"button",19),T.NdJ("click",function(){return e.preview()}),T._uU(46,"\u9810\u89bd\u540d\u55ae"),T.qZA(),T.TgZ(47,"button",20),T.NdJ("click",function(){return e.submit()}),T._uU(48,"\u9001 \u5be9"),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&t&&(T.xp6(7),T.hij("",e.actionName,"\u6d3b\u52d5"),T.xp6(1),T.Q6J("formGroup",e.validateForm),T.xp6(2),T.Q6J("form",e.validateForm),T.xp6(1),T.Q6J("form",e.validateForm),T.xp6(2),T.Q6J("form",e.validateForm),T.xp6(4),T.Q6J("nbPopover",e.popupText),T.xp6(8),T.Q6J("form",e.validateForm),T.xp6(2),T.Q6J("form",e.validateForm)("selectList",T.VKq(13,bt,e.scheduleList)),T.xp6(1),T.Q6J("form",e.validateForm),T.xp6(1),T.Q6J("ngForOf",e.conditions.controls),T.xp6(16),T.Q6J("disabled",e.validateForm.get("activityListCondition").invalid),T.xp6(2),T.Q6J("disabled",e.validateForm.invalid))},directives:[d.Asz,d.ndF,d.yKW,i.JL,i.sg,P.n,it.U,d.fMN,d.ydg,d.NTf,i.JJ,i.u,$.S,X.J,N.sg,d.DPz,i.CE,N.O5,i.x0,N.mk,d.rs,d.q51],pipes:[N.Nd],styles:[""]}),t})();var At=a(60023),qt=a(58991);function xt(t,e){if(1&t&&(T.TgZ(0,"nb-option",18),T._uU(1),T.qZA()),2&t){const t=e.$implicit;T.Q6J("value",t),T.xp6(1),T.hij("\u6a19\u7c64\u6240\u5c6c\u55ae\u4f4d\uff1a",t,"")}}function Nt(t,e){if(1&t&&(T.TgZ(0,"div",19),T._UZ(1,"nb-tag",20),T.TgZ(2,"p",21),T._uU(3),T.qZA(),T.qZA()),2&t){const t=e.$implicit;T.xp6(1),T.Q6J("text",null==t?null:t.tagName),T.xp6(2),T.Oqu(null==t?null:t.tagDescription)}}let wt=(()=>{class t extends Z.H{constructor(t,e,a,i,n,s,r){super(t,e,a),this.ref=i,this.customerManageService=n,this.loadingService=s,this.dialogService=r,this.departments=[]}ngOnInit(){if(this.loadingService.open(),this.isMock)return this.datas=W.find(t=>t.customerId===this.customerId),console.info(this.datas.tagSetting),this.departmentTag=h.l.groupBy(this.datas.tagSetting,"department",!1),this.departments=Object.keys(this.departmentTag),this.selectedDepartment=this.departments[0],void this.loadingService.close();this.customerManageService.getCustomerRow(this.customerId).pipe((0,v.K)(t=>{throw this.dialogService.alertAndBackToList(!1,"\u67e5\u7121\u6b64\u7b46\u8cc7\u6599\uff0c\u5c07\u70ba\u60a8\u5c0e\u56de\u7528\u6236\u5217\u8868",["pages","customer-manage","customer-list"]),this.loadingService.close(),new Error(t.message)}),(0,f.h)(t=>t.code===p.$.SUCCESS),(0,y.b)(t=>{this.datas=t.result,this.departmentTag=h.l.groupBy(t.result.tagSetting,"department",!1),this.departments=Object.keys(this.departmentTag),this.selectedDepartment=this.departments[0],this.loadingService.close()})).subscribe()}close(){this.ref.close()}}return t.\u0275fac=function(e){return new(e||t)(T.Y36(b.V),T.Y36(D.E),T.Y36(A.r),T.Y36(d.X4l),T.Y36(q.Q),T.Y36(x.b),T.Y36(n.x))},t.\u0275cmp=T.Xpm({type:t,selectors:[["ngx-detail"]],inputs:{customerId:"customerId"},features:[T.qOj],decls:59,vars:13,consts:[[1,"dialogCard","large"],[1,"row"],[1,"textGroup","col-4","col-lg-4"],[1,"text_bold"],[1,"textGroup","col-8","col-lg-8"],[1,"subTitle"],[1,"rightBox"],[1,"tagFilter"],["placeholder","\u8acb\u9078\u64c7\u6a19\u7c64\u6240\u5c6c\u55ae\u4f4d","size","small","shape","round","hero","",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"tagBlock","row"],["class","tagItem col-6 col-lg-6",4,"ngFor","ngForOf"],[1,"legend"],[1,"bg_skyBlue"],[1,"bg_orange"],[3,"datas"],[1,"btnGroup"],["nbButton","","status","basic",3,"click"],[3,"value"],[1,"tagItem","col-6","col-lg-6"],["status","info","appearance","filled",3,"text"],[1,"tagContent"]],template:function(t,e){1&t&&(T.TgZ(0,"nb-card",0),T.TgZ(1,"nb-card-header"),T.TgZ(2,"h2"),T._uU(3),T.qZA(),T.qZA(),T.TgZ(4,"nb-card-body"),T.TgZ(5,"div",1),T.TgZ(6,"div",2),T.TgZ(7,"p",3),T._uU(8,"\u59d3\u540d\uff1a"),T.qZA(),T.TgZ(9,"span"),T._uU(10),T.qZA(),T.qZA(),T.TgZ(11,"div",2),T.TgZ(12,"p",3),T._uU(13,"\u624b\u6a5f\u865f\u78bc\uff1a"),T.qZA(),T.TgZ(14,"span"),T._uU(15),T.qZA(),T.qZA(),T.TgZ(16,"div",2),T.TgZ(17,"p",3),T._uU(18,"\u751f\u65e5\uff1a"),T.qZA(),T.TgZ(19,"span"),T._uU(20),T.qZA(),T.qZA(),T.qZA(),T.TgZ(21,"div",1),T.TgZ(22,"div",2),T.TgZ(23,"p",3),T._uU(24,"\u6027\u5225\uff1a"),T.qZA(),T.TgZ(25,"span"),T._uU(26),T.ALo(27,"enum"),T.qZA(),T.qZA(),T.TgZ(28,"div",4),T.TgZ(29,"p",3),T._uU(30,"\u5730\u5740\uff1a"),T.qZA(),T.TgZ(31,"span"),T._uU(32),T.qZA(),T.qZA(),T.qZA(),T.TgZ(33,"div",5),T.TgZ(34,"p"),T._uU(35,"\u7528\u6236\u6a19\u7c64\u8f2a\u5ed3"),T.qZA(),T.qZA(),T.TgZ(36,"div",6),T.TgZ(37,"div",7),T.TgZ(38,"nb-select",8),T.NdJ("selectedChange",function(t){return e.selectedDepartment=t}),T.YNc(39,xt,2,2,"nb-option",9),T.qZA(),T.qZA(),T.qZA(),T.TgZ(40,"div",10),T.YNc(41,Nt,4,2,"div",11),T.qZA(),T.TgZ(42,"div",5),T.TgZ(43,"p"),T._uU(44,"\u6a19\u7c64\u6b77\u7a0b"),T.qZA(),T.qZA(),T.TgZ(45,"div",12),T.TgZ(46,"div"),T._UZ(47,"span",13),T.TgZ(48,"p"),T._uU(49,"\u898f\u5247\u6a19\u7c64"),T.qZA(),T.qZA(),T.TgZ(50,"div"),T._UZ(51,"span",14),T.TgZ(52,"p"),T._uU(53,"\u540d\u55ae\u6a19\u7c64"),T.qZA(),T.qZA(),T.qZA(),T._UZ(54,"ngx-echarts-timeline-multi-range",15),T.qZA(),T.TgZ(55,"nb-card-footer"),T.TgZ(56,"div",16),T.TgZ(57,"button",17),T.NdJ("click",function(){return e.close()}),T._uU(58,"\u95dc \u9589"),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&t&&(T.xp6(3),T.hij("\u7528\u6236\u660e\u7d30\u8cc7\u8a0a-",e.customerId,""),T.xp6(7),T.Oqu(null==e.datas?null:e.datas.userName),T.xp6(5),T.Oqu(null==e.datas?null:e.datas.mobile),T.xp6(5),T.Oqu(null==e.datas?null:e.datas.birthday),T.xp6(6),T.Oqu(T.xi3(27,10,null==e.datas?null:e.datas.gender,"gender")),T.xp6(6),T.Oqu(null==e.datas?null:e.datas.address),T.xp6(6),T.Q6J("selected",e.selectedDepartment),T.xp6(1),T.Q6J("ngForOf",e.departments),T.xp6(2),T.Q6J("ngForOf",null==e.departmentTag?null:e.departmentTag[e.selectedDepartment]),T.xp6(13),T.Q6J("datas",null==e.departmentTag?null:e.departmentTag[e.selectedDepartment]))},directives:[d.Asz,d.ndF,d.yKW,d.rs,N.sg,qt.G,d.XWE,d.DPz,d.q51,d.c2L],pipes:[w.z],encapsulation:2}),t})();function St(t,e){if(1&t&&(T.TgZ(0,"nb-card-body"),T._UZ(1,"ng2-smart-table",11),T._UZ(2,"paginator",12),T.qZA()),2&t){const t=e.ngIf,a=T.oxw();T.xp6(1),T.Q6J("settings",a.gridDefine)("source",t),T.xp6(1),T.Q6J("source",t)("paginator",a.paginator)}}function It(t,e){1&t&&T._UZ(0,"nb-tag",2),2&t&&T.Q6J("text",e.$implicit.tagName)}let _t=(()=>{class t extends Z.H{constructor(t,e,a,n,s,r,o){super(t,e,a),this.dialogService=n,this.customerManageService=s,this.tableService=r,this.activatedRoute=o,this.mockData=W,this.updateTime=j(new Date).format("YYYY/MM/DD"),this.isSearch=!1,this.gridDefine={pager:{display:!0,perPage:10},columns:{customerId:{title:"\u7528\u6236\u7de8\u865f",type:"html",class:"text_center w150",valuePrepareFunction:(t,e,a)=>'<p class="text_center">'+(null!=t?t:"")+"</p>",sort:!1},userName:{title:"\u59d3\u540d",type:"html",class:"text_center w100",valuePrepareFunction:(t,e,a)=>'<p class="text_center">'+(null!=t?t:"")+"</p>",sort:!1},mobile:{title:"\u624b\u6a5f\u865f\u78bc",type:"html",class:"text_center w150",valuePrepareFunction:(t,e,a)=>'<p class="text_center">'+(null!=t?t:"")+"</p>",sort:!1},tagKeyword:{title:`\u7528\u6236\u6a19\u7c64 (\u66f4\u65b0\u6642\u9593: ${this.updateTime})`,type:"custom",class:"text_center",valuePrepareFunction:(t,e)=>e.tagSetting,renderComponent:kt,sort:!1},action:{title:"\u67e5\u770b",type:"custom",class:"center",width:"3rem",renderComponent:At.P,onComponentInitFunction:t=>{t.emitter.subscribe(t=>{this.dialogService.open(wt,{customerId:t.customerId})})},sort:!1}},hideSubHeader:!0,actions:{add:!1,edit:!1,delete:!1}},this.validateForm=new i.cw({customerId:new i.NI("",B.I.searchCustId),mobile:new i.NI("",B.I.number),tagKeyword:new i.NI("")}),this.sessionKey=this.activatedRoute.snapshot.routeConfig.path}ngOnInit(){this.search()}reset(){this.validateForm.reset({customerId:"",mobile:"",tagKeyword:""}),this.isSearch=!0,this.paginator.nowPage=1,this.search("reset")}search(t){if(this.isMock){this.dataSource.reset();let t=this.validateForm.getRawValue();for(const[e,a]of Object.entries(t).filter(([t,e])=>!!e))this.dataSource.addFilter({field:e,filter:void 0,search:a}),console.info(this.dataSource.getFilter()),this.updateTime=j(new Date).format("YYYY/MM/DD");return void this.dataSource.load(this.mockData)}this.isSearch=!1,"search"===t&&(this.isSearch=!0),["search","reset"].includes(t)&&(this.paginator.nowPage=1);let e={apiUrl:this.customerManageService.customerFunc,nowPage:this.paginator.nowPage,filters:this.validateForm.getRawValue(),errMsg:"\u7528\u6236\u5217\u8868\u67e5\u7121\u8cc7\u6599"};this.restDataSource=this.tableService.searchData(e)}}return t.\u0275fac=function(e){return new(e||t)(T.Y36(b.V),T.Y36(D.E),T.Y36(A.r),T.Y36(n.x),T.Y36(q.Q),T.Y36(z.I),T.Y36(u.gz))},t.\u0275cmp=T.Xpm({type:t,selectors:[["customer-list"]],features:[T.qOj],decls:25,vars:9,consts:[[1,"pageTitle"],[1,"pageContent"],[3,"formGroup"],[1,"row"],["title","\u7528\u6236\u7de8\u865f","ctlName","customerId",1,"col-12","col-lg-6",3,"form","maxlength"],["title","\u624b\u6a5f\u865f\u78bc","ctlName","mobile",1,"col-12","col-lg-6",3,"form","maxlength"],["title","\u6a19\u7c64\u95dc\u9375\u5b57","ctlName","tagKeyword",1,"col-12","col-lg-6",3,"form","maxlength"],[1,"btnGroup"],["nbButton","","status","basic","size","medium",3,"click"],["nbButton","","status","primary","size","medium",3,"disabled","click"],[4,"ngIf"],[3,"settings","source"],[3,"source","paginator"]],template:function(t,e){1&t&&(T.TgZ(0,"div",0),T.TgZ(1,"h1"),T._uU(2,"\u7528\u6236\u5217\u8868"),T.qZA(),T.qZA(),T.TgZ(3,"div",1),T.TgZ(4,"nb-card"),T.TgZ(5,"nb-card-header"),T.TgZ(6,"h2"),T._uU(7,"\u67e5\u8a62\u8a2d\u5b9a\u503c"),T.qZA(),T.qZA(),T.TgZ(8,"nb-card-body",2),T.TgZ(9,"div",3),T._UZ(10,"basic-input",4),T._UZ(11,"basic-input",5),T._UZ(12,"basic-input",6),T.qZA(),T.qZA(),T.qZA(),T.TgZ(13,"div",3),T.TgZ(14,"div",7),T.TgZ(15,"button",8),T.NdJ("click",function(){return e.reset()}),T._uU(16,"\u6e05 \u9664"),T.qZA(),T.TgZ(17,"button",9),T.NdJ("click",function(){return e.search("search")}),T._uU(18,"\u67e5 \u8a62"),T.qZA(),T.qZA(),T.qZA(),T._UZ(19,"hr"),T.TgZ(20,"nb-card"),T.TgZ(21,"nb-card-header"),T.TgZ(22,"h2"),T._uU(23,"\u7528\u6236\u5217\u8868"),T.qZA(),T.qZA(),T.YNc(24,St,3,4,"nb-card-body",10),T.qZA(),T.qZA()),2&t&&(T.xp6(8),T.Q6J("formGroup",e.validateForm),T.xp6(2),T.Q6J("form",e.validateForm)("maxlength",10),T.xp6(1),T.Q6J("form",e.validateForm)("maxlength",10),T.xp6(1),T.Q6J("form",e.validateForm)("maxlength",10),T.xp6(5),T.Q6J("disabled",e.validateForm.invalid),T.xp6(7),T.Q6J("ngIf",e.restDataSource||e.dataSource))},directives:[d.Asz,d.ndF,d.yKW,i.JL,i.sg,P.n,d.DPz,N.O5,l.T5,G.J],styles:[".tagList{margin:-10px}  .tagList nb-tag:nth-of-type(n+6){display:none}"]}),t})(),kt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=T.Xpm({type:t,selectors:[["customer-tag"]],inputs:{value:"value"},decls:2,vars:1,consts:[[1,"tagList"],["status","info","appearance","filled","size","large",3,"text",4,"ngFor","ngForOf"],["status","info","appearance","filled","size","large",3,"text"]],template:function(t,e){1&t&&(T.TgZ(0,"div",0),T.YNc(1,It,1,1,"nb-tag",1),T.qZA()),2&t&&(T.xp6(1),T.Q6J("ngForOf",e.value))},directives:[N.sg,d.c2L],encapsulation:2}),t})();const Ut=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=T.Xpm({type:t,selectors:[["app-customer-manage"]],decls:1,vars:0,template:function(t,e){1&t&&T._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),t})(),children:[{path:"",redirectTo:"customer-list",pathMatch:"full"},{path:"customer-list",component:_t},{path:"activity-list",component:H,data:{keepSession:!0}},{path:"activity-detail/:activityId",component:L,data:{keepSession:!0}},{path:"activity-set",component:Dt},{path:"activity-set/:activityId",component:Dt}]}];let Ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=T.oAB({type:t}),t.\u0275inj=T.cJS({imports:[[u.Bz.forChild(Ut)],u.Bz]}),t})();var Ct=a(31636);const Jt=[d.uuI,d.zyh,d.caZ,d.KdK,c.$,d.MfT,d.YNG,d.nKr,d.T2N,d.IIj,d.OA,o.k.forChild({format:"yyyy-MM-dd"}),d.j7H.forChild(),d.urD,d.oGl,d.CG_,d.wB1,d.spT];let Ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=T.oAB({type:t}),t.\u0275inj=T.cJS({providers:[n.x,q.Q,at.P],imports:[[s.e,i.u5,i.UX,g.O,Ft,l.ne,r.Dv,Ct.ChartsModule,...Jt]]}),t})()}}]);